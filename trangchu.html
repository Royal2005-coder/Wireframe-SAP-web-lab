<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Homepage - CLB SAP</title>
    <!-- Link to Google Fonts for Gotham (or a suitable alternative like Montserrat) -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <!-- Note for developers: If Gotham font licensing is an issue, Montserrat is a good alternative provided here. -->
    <link rel="stylesheet" href="assets/style.css">
</head>
<body>
    <!-- HEADER SECTION -->
    <header>
        <div class="container">
            <a href="trangchu.html" class="logo">CLB SAP</a>
            <nav>
                <ul>
                    <li><a href="gioithieu.html">Giới thiệu CLB</a></li>
                    <li><a href="kienthucsap.html">Kiến thức SAP</a></li>
                    <li><a href="Duanhoatdong.html">Dự án - Hoạt động</a></li>
                    <li><a href="workshopwebinbar.html">Workshop & Webinar</a></li>
                    <li><a href="lienhe.html">Liên hệ</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- BANNER 1 - HERO SECTION -->
    <section class="banner-1">
        <div class="content">
            <h1>Chào mừng đến với CLB SAP</h1>
            <p>Khám phá thế giới SAP và phát triển kỹ năng cùng chúng tôi.</p>
            <a href="#" class="btn">Tìm hiểu thêm</a>
        </div>
    </section>

    <!-- BANNER 2 - CALL TO ACTION / INFORMATION SECTION -->
    <section class="banner-2">
        <div class="container">
            <h2>Sứ mệnh của chúng tôi</h2>
            <p>CLB SAP cam kết mang đến kiến thức chuyên sâu về hệ thống SAP, cung cấp môi trường học tập thực tiễn và kết nối cộng đồng sinh viên yêu thích công nghệ.</p>
            <a href="#" class="btn">Tham gia ngay</a>
        </div>
    </section>

    <!-- MAIN CONTENT - GIỚI THIỆU THÀNH VIÊN -->
    <section class="main-content">
        <div class="container">
            <h2 class="section-title">Ban điều hành CLB</h2>
            <div class="section-card-grid member-grid">
                <!-- Thẻ thành viên mẫu 1 -->
                <div class="info-card member-card">
                    <!-- Placeholder image for member. Developers: Replace with actual member photos. -->
                    <img src="https://placehold.co/400x250/cccccc/333333?text=ThanhVien1" alt="Ảnh thành viên 1">
                    <h3>Nguyễn Văn A</h3>
                    <p>Trưởng ban Đối ngoại</p>
                    <p>Email: anva@example.com</p>
                    <!-- No AI feature for member cards, but keeping structure consistent -->
                </div>
                <!-- Thẻ thành viên mẫu 2 -->
                <div class="info-card member-card">
                    <img src="https://placehold.co/400x250/cccccc/333333?text=ThanhVien2" alt="Ảnh thành viên 2">
                    <h3>Trần Thị B</h3>
                    <p>Phó ban Học thuật</p>
                    <p>Email: btht@example.com</p>
                </div>
                <!-- Thẻ thành viên mẫu 3 -->
                <div class="info-card member-card">
                    <img src="https://placehold.co/400x250/cccccc/333333?text=ThanhVien3" alt="Ảnh thành viên 3">
                    <h3>Lê Văn C</h3>
                    <p>Trưởng ban Truyền thông</p>
                    <p>Email: clvc@example.com</p>
                </div>
                <!-- Thẻ thành viên mẫu 4 -->
                <div class="info-card member-card">
                    <img src="https://placehold.co/400x250/cccccc/333333?text=ThanhVien4" alt="Ảnh thành viên 4">
                    <h3>Phạm Thị D</h3>
                    <p>Thành viên Ban Sự kiện</p>
                    <p>Email: dttp@example.com</p>
                </div>
                <!-- Developers: Thêm các thẻ thành viên khác tương tự tại đây -->
            </div>
            <div class="member-actions" style="display: flex; justify-content: center; gap: 20px; margin: 40px 0; flex-wrap: wrap;">
                <a href="thanhvien.html" class="btn view-all-members-btn">Xem tất cả thành viên</a>
                <button id="viewOrgChartBtn" class="btn" style="background-color: #f7b200; color: #003366; border: 1px solid #003366;">Xem sơ đồ tổ chức</button>
            </div>
        </div>
    </section>

    <!-- NEW SECTION: KIẾN THỨC SAP NỔI BẬT -->
    <section class="main-content">
        <div class="container">
            <h2 class="section-title">Kiến thức SAP nổi bật</h2>
            <div class="section-card-grid">
                <!-- Card Module 1 -->
                <div class="info-card">
                    <img src="https://placehold.co/400x180/003366/ffffff?text=SAP+SD" alt="SAP SD Module">
                    <h3 class="card-title">SAP Sales & Distribution (SD)</h3>
                    <p class="card-description">Tìm hiểu module quản lý bán hàng và phân phối.</p>
                    <button class="ai-feature-btn" data-title="SAP Sales & Distribution (SD)" data-description="Module quản lý bán hàng và phân phối">✨ Mô tả chi tiết</button>
                </div>
                <!-- Card Module 2 -->
                <div class="info-card">
                    <img src="https://placehold.co/400x180/003366/ffffff?text=SAP+FI/CO" alt="SAP FI/CO Module">
                    <h3 class="card-title">SAP Finance & Controlling (FI/CO)</h3>
                    <p class="card-description">Các kiến thức cơ bản về tài chính và kế toán quản trị.</p>
                    <button class="ai-feature-btn" data-title="SAP Finance & Controlling (FI/CO)" data-description="Kiến thức cơ bản về tài chính và kế toán quản trị">✨ Mô tả chi tiết</button>
                </div>
                <!-- Card Lộ trình học tập -->
                <div class="info-card">
                    <img src="https://placehold.co/400x180/003366/ffffff?text=Lo+Trinh+Hoc+Tap" alt="Lộ trình học tập SAP">
                    <h3 class="card-title">Lộ trình học tập SAP</h3>
                    <p class="card-description">Hướng dẫn chi tiết con đường trở thành chuyên gia SAP.</p>
                    <button class="ai-feature-btn" data-title="Lộ trình học tập SAP" data-description="Hướng dẫn chi tiết con đường trở thành chuyên gia SAP">✨ Mô tả chi tiết</button>
                </div>
                <!-- Developers: Thêm các card kiến thức SAP khác -->
            </div>
        </div>
    </section>

    <!-- NEW SECTION: DỰ ÁN & HOẠT ĐỘNG TIÊU BIỂU -->
    <section class="main-content">
        <div class="container">
            <h2 class="section-title">Dự án & Hoạt động tiêu biểu</h2>
            <div class="section-card-grid">
                <!-- Card Dự án nhóm -->
                <div class="info-card">
                    <img src="https://placehold.co/400x180/0056b3/ffffff?text=Du+An+Nhom" alt="Dự án nhóm thực hành">
                    <h3 class="card-title">Dự án nhóm thực hành</h3>
                    <p class="card-description">Tham gia các dự án thực tế với sự hướng dẫn của chuyên gia.</p>
                    <button class="ai-feature-btn" data-title="Dự án nhóm thực hành" data-description="Tham gia các dự án thực tế với sự hướng dẫn của chuyên gia">✨ Mô tả chi tiết</button>
                </div>
                <!-- Card Cuộc thi & Minigame -->
                <div class="info-card">
                    <img src="https://placehold.co/400x180/0056b3/ffffff?text=Cuoc+Thi" alt="Cuộc thi & Minigame">
                    <h3 class="card-title">Cuộc thi & Minigame</h3>
                    <p class="card-description">Thử thách kiến thức và rinh về những phần quà hấp dẫn.</p>
                    <button class="ai-feature-btn" data-title="Cuộc thi & Minigame" data-description="Thử thách kiến thức và rinh về những phần quà hấp dẫn">✨ Mô tả chi tiết</button>
                </div>
                <!-- Card Tin tức & Blog -->
                <div class="blog-post-card">
                    <img src="https://placehold.co/400x200/cccccc/333333?text=Tin+Tuc+Blog" alt="Tin tức & Blog">
                    <div class="blog-post-content">
                        <h3 class="card-title">Tin tức & Blog</h3>
                        <p class="card-description">Cập nhật thông tin ngành SAP và câu chuyện học tập.</p>
                        <a href="kienthucsap.html" class="read-more">Đọc blog</a>
                        <button class="ai-feature-btn" data-title="Tin tức & Blog" data-description="Cập nhật thông tin ngành SAP và câu chuyện học tập">✨ Mô tả chi tiết</button>
                    </div>
                </div>
                <!-- Developers: Thêm các card hoạt động khác -->
            </div>
        </div>
    </section>

    <!-- NEW SECTION: WORKSHOP & WEBINAR SẮP TỚI -->
    <section class="banner-2" style="background-color: #f7b200; color: #003366; margin-top: 0; border-radius: 0;">
        <div class="container">
            <h2>Workshop & Webinar sắp tới</h2>
            <p style="color: #003366;">Đăng ký tham gia các buổi chia sẻ chuyên sâu về SAP từ các chuyên gia hàng đầu.</p>
            <a href="#" class="btn" style="background-color: #003366; color: #ffffff;">Xem lịch & Đăng ký</a>
        </div>
    </section>

    <!-- FOOTER SECTION -->
    <footer>
        <div class="container footer-content">
            <div class="footer-section about">
                <h3>Về CLB SAP</h3>
                <p>Nơi chia sẻ kiến thức SAP và phát triển kỹ năng cho sinh viên.</p>
            </div>
            <div class="footer-section links">
                <h3>Liên kết nhanh</h3>
                <ul>
                    <li><a href="#">Giới thiệu về SAP</a></li>
                    <li><a href="#">Lộ trình học tập</a></li>
                    <li><a href="#">Dự án thực hành</a></li>
                    <li><a href="#">Tuyển thành viên mới</a></li>
                </ul>
            </div>
            <div class="footer-section contact">
                <h3>Liên hệ</h3>
                <p>Email: contact@clbsap.com</p>
                <p>SĐT: 0123 456 789</p>
                <p>Địa chỉ: [Địa chỉ trường/văn phòng CLB]</p>
            </div>
            <div class="footer-section social">
                <h3>Theo dõi chúng tôi</h3>
                <div class="social-icons">
                    <!-- Developers: Replace 'FB', 'In', 'YT' with actual social media icons (e.g., Font Awesome) -->
                    <a href="#" target="_blank">FB</a> <!-- Biểu tượng Facebook -->
                    <a href="#" target="_blank">In</a> <!-- Biểu tượng LinkedIn -->
                    <a href="#" target="_blank">YT</a> <!-- Biểu tượng YouTube -->
                </div>
                <p><a href="#">Góp ý & Phản hồi</a></p>
                <p><a href="#">Form liên hệ</a></p>
            </div>
        </div>
        <div class="bottom-bar">
            &copy; 2025 CLB SAP. All rights reserved.
        </div>
    </footer>

    <!-- MODAL FOR AI GENERATED CONTENT -->
    <div id="aiModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2 id="modalTitle" class="modal-title"></h2>
            <p id="modalDescription" class="modal-description"></p>
        </div>
    </div>

    <!-- NEW MODAL FOR ORGANIZATIONAL CHART -->
    <div id="orgChartModal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="closeOrgChartModal">&times;</span>
            <h2 class="modal-title">Sơ đồ tổ chức CLB SAP</h2>
            <div id="orgChartContent" class="org-chart-container">
                <div class="org-chart">
                    <!-- Level 1: Team Leader -->
                    <div class="org-level">
                        <div class="org-node">
                            <img src="https://placehold.co/80x80/003366/ffffff?text=TL" alt="Team Leader Image">
                            <h4>Nguyễn Thị A</h4>
                            <p>Chủ nhiệm CLB</p>
                        </div>
                    </div>

                    <!-- Level 2: Phó ban -->
                    <div class="org-level-group-children">
                        <div class="org-node">
                            <img src="https://placehold.co/80x80/0056b3/ffffff?text=PB1" alt="Phó ban 1 Image">
                            <h4>Trần Văn B</h4>
                            <p>Phó ban Học thuật</p>
                        </div>
                        <div class="org-node">
                            <img src="https://placehold.co/80x80/0056b3/ffffff?text=PB2" alt="Phó ban 2 Image">
                            <h4>Lê Thị C</h4>
                            <p>Phó ban Đối ngoại</p>
                        </div>
                        <div class="org-node">
                            <img src="https://placehold.co/80x80/0056b3/ffffff?text=PB3" alt="Phó ban 3 Image">
                            <h4>Phạm Văn D</h4>
                            <p>Phó ban Truyền thông</p>
                        </div>
                        <div class="org-node">
                            <img src="https://placehold.co/80x80/0056b3/ffffff?text=PB4" alt="Phó ban 4 Image">
                            <h4>Võ Thị E</h4>
                            <p>Phó ban Sự kiện</p>
                        </div>
                    </div>

                    <!-- Level 3: Trưởng nhóm và Thành viên (example for Học thuật) -->
                    <div class="org-level-group" style="margin-top: 40px;"> <!-- Group for Học thuật branch -->
                        <div class="org-node">
                            <img src="https://placehold.co/80x80/f7b200/003366?text=TLHT" alt="Trưởng nhóm Học thuật Image">
                            <h4>Nguyễn Văn F</h4>
                            <p>Trưởng nhóm NCKH & Phát triển</p>
                        </div>
                        <div class="org-level-group-children">
                            <div class="org-node">
                                <img src="https://placehold.co/80x80/cccccc/333333?text=TVHT1" alt="Thành viên Học thuật 1 Image">
                                <h4>Hoàng G</h4>
                                <p>Thành viên Học thuật</p>
                            </div>
                            <div class="org-node">
                                <img src="https://placehold.co/80x80/cccccc/333333?text=TVHT2" alt="Thành viên Học thuật 2 Image">
                                <h4>Đinh H</h4>
                                <p>Thành viên Học thuật</p>
                            </div>
                        </div>
                    </div>
                    <!-- Repeat org-level-group for other branches (Đối ngoại, Truyền thông, Sự kiện) -->

                </div>
                <p style="text-align: center; margin-top: 30px; font-size: 0.9em; color: #666;">
                    Ghi chú: Sơ đồ trên là bản phác thảo. Trong phiên bản hoàn chỉnh, hình ảnh sẽ được thay bằng ảnh thật và cấu trúc có thể linh hoạt hơn.
                </p>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const aiButtons = document.querySelectorAll('.ai-feature-btn');
            const aiModal = document.getElementById('aiModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalDescription = document.getElementById('modalDescription');
            const closeAiModalButton = aiModal.querySelector('.close-button'); // Get close button for AI modal

            const viewOrgChartBtn = document.getElementById('viewOrgChartBtn');
            const orgChartModal = document.getElementById('orgChartModal');
            const closeOrgChartModalButton = document.getElementById('closeOrgChartModal'); // Get close button for Org Chart modal

            // Event listeners for AI modal
            aiButtons.forEach(button => {
                button.addEventListener('click', async function() {
                    const title = this.dataset.title;
                    const description = this.dataset.description;
                    const originalButtonText = this.innerHTML;
                    const spinner = document.createElement('span');
                    spinner.className = 'loading-spinner';

                    this.innerHTML = 'Đang tạo... ';
                    this.appendChild(spinner);
                    spinner.classList.add('active');
                    this.disabled = true;

                    try {
                        let chatHistory = [];
                        const prompt = `Viết một đoạn mô tả chi tiết và hấp dẫn hơn (khoảng 3-4 câu) cho "${title}" dựa trên thông tin ngắn gọn sau: "${description}". Hãy viết bằng tiếng Việt.`;
                        chatHistory.push({ role: "user", parts: [{ text: prompt }] });
                        const payload = { contents: chatHistory };
                        const apiKey = ""; // Canvas will provide this automatically
                        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                        const response = await fetch(apiUrl, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });

                        const result = await response.json();

                        if (result.candidates && result.candidates.length > 0 &&
                            result.candidates[0].content && result.candidates[0].content.parts &&
                            result.candidates[0].content.parts.length > 0) {
                            const generatedText = result.candidates[0].content.parts[0].text;
                            modalTitle.textContent = title;
                            modalDescription.textContent = generatedText;
                            aiModal.style.display = 'flex'; // Use flex to center
                        } else {
                            modalTitle.textContent = "Lỗi";
                            modalDescription.textContent = "Không thể tạo mô tả. Vui lòng thử lại.";
                            aiModal.style.display = 'flex';
                            console.error("Gemini API response structure unexpected:", result);
                        }
                    } catch (error) {
                        modalTitle.textContent = "Lỗi kết nối";
                        modalDescription.textContent = "Có lỗi xảy ra khi gọi API. Vui lòng kiểm tra kết nối mạng hoặc thử lại sau.";
                        aiModal.style.display = 'flex';
                        console.error("Error calling Gemini API:", error);
                    } finally {
                        this.innerHTML = originalButtonText;
                        this.disabled = false;
                        spinner.classList.remove('active');
                        if (spinner.parentNode) {
                            spinner.parentNode.removeChild(spinner);
                        }
                    }
                });
            });

            closeAiModalButton.addEventListener('click', function() {
                aiModal.style.display = 'none';
            });

            // Event listeners for Organizational Chart modal
            viewOrgChartBtn.addEventListener('click', function() {
                orgChartModal.style.display = 'flex'; // Use flex to center
            });

            closeOrgChartModalButton.addEventListener('click', function() {
                orgChartModal.style.display = 'none';
            });

            // Close modals when clicking outside of them
            window.addEventListener('click', function(event) {
                if (event.target == aiModal) {
                    aiModal.style.display = 'none';
                }
                if (event.target == orgChartModal) {
                    orgChartModal.style.display = 'none';
                }
            });
        });
    </script>
</body>
</html>
